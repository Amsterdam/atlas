import { getByUrl } from '../api/api'
import formatDate from '../date-formatter/date-formatter'

export default function fetchByUri(uri) {
  return getByUrl(`${uri}`).then(result => {
    const startdatum = new Date(result.startdatum)

    return {
      ...result,
      label: result.plannaam,
      plannr: result.plannr.toString(),
      startdatum,
      startdatumLabel: formatDate(startdatum),
      prijspeildatum: new Date(result.prijspeildatum),
    }
  })
}
