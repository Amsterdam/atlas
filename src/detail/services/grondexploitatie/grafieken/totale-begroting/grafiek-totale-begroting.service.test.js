import { CATEGORIES } from '../grondexploitatie-categories';

import generateGraphData from './grafiek-totale-begroting.service';

describe('Grondexploitatie Grafiek Totale Begroting Service', () => {
  describe('generateGraphData', () => {
    const mockApiData = [
      {
        categorie: CATEGORIES.BEDRIJFSRUIMTE,
        totaal: { begroot: 5000000 }
      },
      {
        categorie: CATEGORIES.KANTOORRUIMTE,
        totaal: { begroot: 500000 }
      }
    ];

    it('should return the data in correct format', () => {
      const graphData = generateGraphData(mockApiData);
      const findItem = (category) => graphData.find((item) => item.name === category);
      expect(findItem(CATEGORIES.KANTOORRUIMTE)).toEqual({
        name: CATEGORIES.KANTOORRUIMTE,
        value: {
          label: '0,5',
          value: 0.5
        }
      });
      expect(findItem(CATEGORIES.BEDRIJFSRUIMTE)).toEqual({
        name: CATEGORIES.BEDRIJFSRUIMTE,
        value: {
          label: '5',
          value: 5
        }
      });
      expect(findItem(CATEGORIES.COMMERCIEEL)).toEqual({
        name: CATEGORIES.COMMERCIEEL,
        value: {
          label: '0',
          value: 0
        }
      });
    });
  });
});
