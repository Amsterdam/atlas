import { totaleBegrotingCategories, CATEGORY_LABELS } from '../grondexploitatie-categories';
import { displayFactor, precisionRound } from '../helpers';

const generateGraphData = ({ categories }) => (
  totaleBegrotingCategories.map((category) => {
    const item = categories[category] || { begroot: 0, geboekt: 0 };
    const begrootRounded = precisionRound(item.begroot / displayFactor, 1);
    const geboektRounded = precisionRound(item.geboekt / displayFactor, 1);
    return {
      ...item,
      id: category,
      name: CATEGORY_LABELS[category],
      begrootLabel: begrootRounded ? `${begrootRounded}`.replace('.', ',') : '',
      begrootValue: item.begroot / displayFactor,
      geboektLabel: begrootRounded ? `${geboektRounded}`.replace('.', ',') : '',
      geboektValue: item.geboekt / displayFactor
    };
  })
);

export default generateGraphData;
