<div ng-if="vm.showHeader" class="u-margin__bottom--2">
    <div ng-if="vm.showButtons" class="u-pull--right">
        <dp-data-selection-toggle-view-button view="vm.state.view"></dp-data-selection-toggle-view-button>

        <dp-data-selection-download-button dataset="{{vm.state.dataset}}" active-filters="vm.state.filters">
        </dp-data-selection-download-button>
    </div>

    <h2 ng-if="vm.state.view === 'TABLE'">{{vm.datasetTitle}} ({{vm.numberOfRecords | number}})</h2>
    <h2 ng-if="vm.state.view === 'CARDS'">{{vm.numberOfRecords | number}} dataset<span ng-if="vm.numberOfRecords !== 1">s</span></h2>
    <h2 ng-if="vm.state.view === 'LIST'">Resultaten</h2>

    <h2 ng-if="vm.showNoResultsFound && !vm.showTabs">Geen resultaten gevonden</h2>
</div>

<div ng-if="vm.showTabs" class="o-tabs">
    <ul>
        <li ng-repeat="tab in vm.tabs" ng-class="{'is-active': tab.isActive}">
            <dp-link type="FETCH_DATA_SELECTION" payload="{dataset: tab.dataset, filters: vm.state.filters, page: 1, view: 'LIST'}" class-name="o-tabs__link">{{tab.title}}</dp-link>
        </li>
    </ul>
</div>

<p ng-if="vm.showNoResultsFound && vm.showTabs">Geen resultaten gevonden</p>

<!-- Todo: add active filters -->

<dp-loading-indicator is-loading="vm.isLoading" use-delay="false" show-inline="true"></dp-loading-indicator>

<dp-panel ng-if="vm.showMessageMaxPages" is-panel-visible="true" type="warning" can-close="true">
    <h3>Deze pagina kan niet worden getoond</h3>
    <p>
        Alleen de eerste 100 pagina's kunnen worden weergegeven (om technische redenen). Bij
        downloaden worden wel alle resultaten opgenomen.
    </p>
    <p>
        Tip: Gebruik de download-knop om alle resultaten te bekijken. Of voeg meer filtercriteria
        toe voor specifiekere resultaten.
    </p>
</dp-panel>

<dp-panel ng-if="vm.showMessageClusteredMarkers" is-panel-visible="true" type="warning" can-close="true">
    <p>Deze resultaten worden niet getoond op de kaart, omdat deze niet meer dan 10.000 resultaten tegelijk kan weergeven (om technische redenen).</p>
    <p class="u-margin__bottom--1">Tip: Bekijk de lijst resultaten in kleinere delen. Dit kan door een voor een filtercriteria toe te voegen (bijv. de verschillende buurtcombinaties uit de selectie).</p>
</dp-panel>
